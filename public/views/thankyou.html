<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>STYLiSH 2021</title>
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/body.css" />
    <link rel="stylesheet" href="../css/footer.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
    <script src="../javascripts/common.js" type="text/javascript"></script>
    <!-- <script
      src="https://cdn.socket.io/3.1.3/socket.io.min.js"
      integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh"
      crossorigin="anonymous"
    ></script> -->
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    <header>
      <nav>
        <div class="flex-start">
          <div id="logo-stylish">
            <a href="/">
              <img
                src="../images/logo.png"
                alt="STYLiSH Logo"
                width="258"
                height="48"
              />
            </a>
          </div>
          <div class="nav-categories">
            <h3>女 裝</h3>
            <hr class="category-break" />
            <h3>男 裝</h3>
            <hr class="category-break" />
            <h3>配 件</h3>
          </div>
        </div>

        <div class="flex-end">
          <div><input id="search" /></div>
          <div>
            <a href="/cart.html">
              <div class="icon-cart">
                <div class="count">0</div>
              </div>
            </a>
          </div>
          <div>
            <a href="/profile.html"><div class="icon-profile"></div></a>
          </div>
        </div>
      </nav>

      <div class="flex-center-grey"></div>
    </header>

    <main></main>

    <footer>
      <nav>
        <ul>
          <div>關於 Stylish</div>
          <div>服務條款</div>
          <div>隱私政策</div>
          <div>聯絡我們</div>
          <div>FAQ</div>
        </ul>
      </nav>
      <div class="links">
        <img src="./images/line.png" />
        <img src="./images/twitter.png" />
        <img src="./images/facebook.png" />
      </div>
      <div class="rights">© 2021. All rights reserved.</div>
    </footer>
  </body>

  <script>
    updateCartQty();
    showOrder();

    function showOrder() {
      // get order id from localstorage then delete
      let orderId = localStorage.getItem("orderId");

      // create order div then append
      let main = document.querySelector(`main`);
      let orderInfo = `<div class="flex-center">
        <section class="content" id="content-thankyou">您的訂單號碼：${orderId}<br><br>十分感謝您的購買！</section>
      </div>;`;
      main.insertAdjacentHTML("afterbegin", orderInfo);

      localStorage.removeItem("orderId");
    }

    // const socket = io("ws://localhost:3000");
    const socket = io();

    socket.emit("order", "order increased");

    // socket.on("oo", (msg) => {
    //   console.log(msg);
    // });

    // socket.on("123", () => {
    //   // either with send()
    //   socket.emit("Hello!");
    //   console.log("gogo");

    //   // or with emit() and custom event names
    //   socket.emit(
    //     "salutations",
    //     "Hello!",
    //     { mr: "john" },
    //     Uint8Array.from([1, 2, 3, 4])
    //   );
    // });

    //handle the event sent with socket.send()
    // socket.on("message", (data) => {
    //   console.log(data);
    // });

    // // handle the event sent with socket.emit()
    // socket.on("greetings", (elem1, elem2, elem3) => {
    //   console.log(elem1, elem2, elem3);
    // });
  </script>
</html>
